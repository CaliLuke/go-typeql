<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# ast

```go
import "github.com/CaliLuke/go-typeql/ast"
```

Package ast provides builder helpers for ergonomic AST construction.

Package ast defines the Abstract Syntax Tree \(AST\) for TypeQL queries.

Package ast defines the Abstract Syntax Tree \(AST\) for TypeQL queries.

It decouples query construction from string formatting, providing a structured way to build TypeQL queries programmatically.

## Index

- [func EscapeString\(s string\) string](<#EscapeString>)
- [func FormatGoValue\(value any\) string](<#FormatGoValue>)
- [func FormatLiteral\(val any, valueType string\) string](<#FormatLiteral>)
- [type AggregateExpr](<#AggregateExpr>)
- [type ArithmeticValue](<#ArithmeticValue>)
- [type AttributePattern](<#AttributePattern>)
- [type Clause](<#Clause>)
- [type Compiler](<#Compiler>)
  - [func \(c \*Compiler\) Compile\(node QueryNode\) \(string, error\)](<#Compiler.Compile>)
  - [func \(c \*Compiler\) CompileBatch\(nodes \[\]QueryNode, operation string\) \(string, error\)](<#Compiler.CompileBatch>)
- [type Constraint](<#Constraint>)
- [type DeleteClause](<#DeleteClause>)
  - [func Delete\(statements ...Statement\) DeleteClause](<#Delete>)
- [type DeleteHasStatement](<#DeleteHasStatement>)
  - [func DeleteHas\(attrVar, ownerVar string\) DeleteHasStatement](<#DeleteHas>)
- [type DeleteThingStatement](<#DeleteThingStatement>)
- [type EntityPattern](<#EntityPattern>)
  - [func Entity\(varName, typeName string, constraints ...Constraint\) EntityPattern](<#Entity>)
- [type FetchAttribute](<#FetchAttribute>)
  - [func FetchAttr\(key, varName, attrName string\) FetchAttribute](<#FetchAttr>)
  - [func FetchAttrPath\(key, attrPath string\) FetchAttribute](<#FetchAttrPath>)
  - [func \(f FetchAttribute\) FetchKey\(\) string](<#FetchAttribute.FetchKey>)
- [type FetchAttributeList](<#FetchAttributeList>)
  - [func \(f FetchAttributeList\) FetchKey\(\) string](<#FetchAttributeList.FetchKey>)
- [type FetchClause](<#FetchClause>)
  - [func Fetch\(items ...FetchItem\) FetchClause](<#Fetch>)
- [type FetchFunction](<#FetchFunction>)
  - [func FetchFunc\(key, funcName, varName string\) FetchFunction](<#FetchFunc>)
  - [func \(f FetchFunction\) FetchKey\(\) string](<#FetchFunction.FetchKey>)
- [type FetchItem](<#FetchItem>)
- [type FetchNestedWildcard](<#FetchNestedWildcard>)
  - [func \(f FetchNestedWildcard\) FetchKey\(\) string](<#FetchNestedWildcard.FetchKey>)
- [type FetchVariable](<#FetchVariable>)
  - [func FetchVar\(key, varName string\) FetchVariable](<#FetchVar>)
  - [func \(f FetchVariable\) FetchKey\(\) string](<#FetchVariable.FetchKey>)
- [type FetchWildcard](<#FetchWildcard>)
  - [func \(f FetchWildcard\) FetchKey\(\) string](<#FetchWildcard.FetchKey>)
- [type FunctionCallValue](<#FunctionCallValue>)
  - [func FuncCall\(funcName string, args ...any\) FunctionCallValue](<#FuncCall>)
- [type HasConstraint](<#HasConstraint>)
  - [func Has\(attrName string, value any\) HasConstraint](<#Has>)
- [type HasPattern](<#HasPattern>)
- [type HasStatement](<#HasStatement>)
  - [func HasStmt\(subjectVar, attrName string, value Value\) HasStatement](<#HasStmt>)
- [type IidConstraint](<#IidConstraint>)
  - [func Iid\(iid string\) IidConstraint](<#Iid>)
- [type IidPattern](<#IidPattern>)
- [type InsertClause](<#InsertClause>)
  - [func Insert\(statements ...Statement\) InsertClause](<#Insert>)
- [type IsaConstraint](<#IsaConstraint>)
  - [func Isa\(typeName string\) IsaConstraint](<#Isa>)
  - [func IsaExact\(typeName string\) IsaConstraint](<#IsaExact>)
- [type IsaStatement](<#IsaStatement>)
  - [func IsaStmt\(variable, typeName string\) IsaStatement](<#IsaStmt>)
- [type LetAssignment](<#LetAssignment>)
- [type LimitClause](<#LimitClause>)
  - [func Limit\(count int\) LimitClause](<#Limit>)
- [type LiteralValue](<#LiteralValue>)
  - [func Bool\(b bool\) LiteralValue](<#Bool>)
  - [func Double\(f float64\) LiteralValue](<#Double>)
  - [func Lit\(value any, valueType string\) LiteralValue](<#Lit>)
  - [func Long\(n int64\) LiteralValue](<#Long>)
  - [func Str\(s string\) LiteralValue](<#Str>)
- [type MatchClause](<#MatchClause>)
  - [func Match\(patterns ...Pattern\) MatchClause](<#Match>)
- [type MatchLetClause](<#MatchLetClause>)
- [type NotPattern](<#NotPattern>)
- [type OffsetClause](<#OffsetClause>)
  - [func Offset\(count int\) OffsetClause](<#Offset>)
- [type OrPattern](<#OrPattern>)
  - [func Or\(alternatives ...\[\]Pattern\) OrPattern](<#Or>)
- [type Pattern](<#Pattern>)
- [type PutClause](<#PutClause>)
  - [func Put\(statements ...Statement\) PutClause](<#Put>)
- [type QueryNode](<#QueryNode>)
- [type RawPattern](<#RawPattern>)
- [type RawStatement](<#RawStatement>)
- [type ReduceAssignment](<#ReduceAssignment>)
- [type ReduceClause](<#ReduceClause>)
- [type RelationPattern](<#RelationPattern>)
  - [func Relation\(varName, typeName string, rolePlayers \[\]RolePlayer, constraints ...Constraint\) RelationPattern](<#Relation>)
- [type RelationStatement](<#RelationStatement>)
  - [func RelationStmt\(typeName string, rolePlayers ...RolePlayer\) RelationStatement](<#RelationStmt>)
- [type RolePlayer](<#RolePlayer>)
  - [func Role\(roleName, playerVar string\) RolePlayer](<#Role>)
- [type SelectClause](<#SelectClause>)
  - [func Select\(variables ...string\) SelectClause](<#Select>)
- [type SortClause](<#SortClause>)
  - [func Sort\(variable, direction string\) SortClause](<#Sort>)
- [type Statement](<#Statement>)
- [type SubTypePattern](<#SubTypePattern>)
- [type UpdateClause](<#UpdateClause>)
  - [func Update\(statements ...Statement\) UpdateClause](<#Update>)
- [type Value](<#Value>)
  - [func ValueFromGo\(val any\) Value](<#ValueFromGo>)
- [type ValueComparisonPattern](<#ValueComparisonPattern>)
  - [func Cmp\(variable, operator string, value any\) ValueComparisonPattern](<#Cmp>)


<a name="EscapeString"></a>
## func [EscapeString](<https://github.com/CaliLuke/go-typeql/blob/main/ast/compiler.go#L525>)

```go
func EscapeString(s string) string
```

EscapeString escapes special characters in a string for use in TypeQL string literals. It handles backslashes, quotes, newlines, carriage returns, and tabs.

<a name="FormatGoValue"></a>
## func [FormatGoValue](<https://github.com/CaliLuke/go-typeql/blob/main/ast/compiler.go#L538>)

```go
func FormatGoValue(value any) string
```

FormatGoValue converts a Go value into its TypeQL literal string representation. It uses reflection to determine the type and handles basic types, pointers, and time.Time. This is the canonical formatting function for Go values; other packages should use this instead of implementing their own formatting logic.

<a name="FormatLiteral"></a>
## func [FormatLiteral](<https://github.com/CaliLuke/go-typeql/blob/main/ast/compiler.go#L488>)

```go
func FormatLiteral(val any, valueType string) string
```

FormatLiteral formats a Go value as a TypeQL literal string.

<a name="AggregateExpr"></a>
## type [AggregateExpr](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L539-L546>)

AggregateExpr represents an aggregate expression like count\($var\) or sum\($attr\).

```go
type AggregateExpr struct {
    // FuncName is the name of the aggregate function (count, sum, min, max, mean, std, median).
    FuncName string
    // Var is the variable being aggregated.
    Var string
    // AttrName is the optional attribute name to aggregate on if the variable is a thing.
    AttrName string
}
```

<a name="ArithmeticValue"></a>
## type [ArithmeticValue](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L44-L51>)

ArithmeticValue represents a binary arithmetic operation between two values. It supports TypeQL infix operators like \+, \-, \*, /, %, and ^.

```go
type ArithmeticValue struct {
    // Left is the left operand (Value or variable string).
    Left any
    // Operator is the infix operator (+, -, *, /, %, ^).
    Operator string
    // Right is the right operand (Value or variable string).
    Right any
}
```

<a name="AttributePattern"></a>
## type [AttributePattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L157-L164>)

AttributePattern matches an attribute of a specific type and optionally its value.

```go
type AttributePattern struct {
    // Variable is the variable name for the attribute.
    Variable string
    // TypeName is the name of the attribute type.
    TypeName string
    // Value is the optional value of the attribute.
    Value Value
}
```

<a name="Clause"></a>
## type [Clause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L316-L319>)

Clause is the marker interface for top\-level TypeQL clauses.

```go
type Clause interface {
    QueryNode
    // contains filtered or unexported methods
}
```

<a name="Compiler"></a>
## type [Compiler](<https://github.com/CaliLuke/go-typeql/blob/main/ast/compiler.go#L13>)

Compiler compiles AST nodes into TypeQL query strings. It traverses the AST and generates the corresponding TypeQL syntax.

```go
type Compiler struct{}
```

<a name="Compiler.Compile"></a>
### func \(\*Compiler\) [Compile](<https://github.com/CaliLuke/go-typeql/blob/main/ast/compiler.go#L17>)

```go
func (c *Compiler) Compile(node QueryNode) (string, error)
```

Compile compiles a single AST node into its TypeQL string representation. It returns an error if the node type is unknown or if compilation fails.

<a name="Compiler.CompileBatch"></a>
### func \(\*Compiler\) [CompileBatch](<https://github.com/CaliLuke/go-typeql/blob/main/ast/compiler.go#L36>)

```go
func (c *Compiler) CompileBatch(nodes []QueryNode, operation string) (string, error)
```

CompileBatch compiles a list of AST nodes into a single query string. The operation parameter \(e.g., "match", "insert"\) can be provided to wrap the compiled nodes.

<a name="Constraint"></a>
## type [Constraint](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L71-L74>)

Constraint is the marker interface for constraints applied to variables in a pattern.

```go
type Constraint interface {
    QueryNode
    // contains filtered or unexported methods
}
```

<a name="DeleteClause"></a>
## type [DeleteClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L361-L364>)

DeleteClause represents a 'delete' clause containing one or more statements.

```go
type DeleteClause struct {
    // Statements are the statements defining what to delete.
    Statements []Statement
}
```

<a name="Delete"></a>
### func [Delete](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L25>)

```go
func Delete(statements ...Statement) DeleteClause
```

Delete creates a DeleteClause with the given statements.

<a name="DeleteHasStatement"></a>
## type [DeleteHasStatement](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L303-L308>)

DeleteHasStatement represents a statement to delete an attribute from its owner. Compiles to: $attrVar of $ownerVar

```go
type DeleteHasStatement struct {
    // AttrVar is the variable representing the attribute to delete (e.g., "$old").
    AttrVar string
    // OwnerVar is the variable representing the owner entity/relation (e.g., "$e").
    OwnerVar string
}
```

<a name="DeleteHas"></a>
### func [DeleteHas](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L185>)

```go
func DeleteHas(attrVar, ownerVar string) DeleteHasStatement
```

DeleteHas creates a DeleteHasStatement for deleting an attribute from its owner. Compiles to: $attrVar of $ownerVar

<a name="DeleteThingStatement"></a>
## type [DeleteThingStatement](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L293-L296>)

DeleteThingStatement represents a statement to delete a thing instance identified by a variable.

```go
type DeleteThingStatement struct {
    // Variable is the variable representing the thing to delete.
    Variable string
}
```

<a name="EntityPattern"></a>
## type [EntityPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L116-L125>)

EntityPattern matches an entity with an optional type and constraints.

```go
type EntityPattern struct {
    // Variable is the variable name for the matched entity.
    Variable string
    // TypeName is the name of the entity type.
    TypeName string
    // Constraints are additional constraints applied to the entity.
    Constraints []Constraint
    // IsStrict indicates whether to use strict type checking (isa!).
    IsStrict bool
}
```

<a name="Entity"></a>
### func [Entity](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L64>)

```go
func Entity(varName, typeName string, constraints ...Constraint) EntityPattern
```

Entity creates an EntityPattern with the given variable, type, and constraints.

<a name="FetchAttribute"></a>
## type [FetchAttribute](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L438-L445>)

FetchAttribute fetches a single attribute value of a variable.

```go
type FetchAttribute struct {
    // Key is the output key in the result JSON.
    Key string
    // Var is the variable whose attribute is being fetched.
    Var string
    // AttrName is the name of the attribute type to fetch.
    AttrName string
}
```

<a name="FetchAttr"></a>
### func [FetchAttr](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L159>)

```go
func FetchAttr(key, varName, attrName string) FetchAttribute
```

FetchAttr creates a FetchAttribute for fetching an attribute value. The attrPath should be like "$var.attrname".

<a name="FetchAttrPath"></a>
### func [FetchAttrPath](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L164>)

```go
func FetchAttrPath(key, attrPath string) FetchAttribute
```

FetchAttrPath is a convenience for creating FetchAttribute from a dotted path like "$p.name".

<a name="FetchAttribute.FetchKey"></a>
### func \(FetchAttribute\) [FetchKey](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L451>)

```go
func (f FetchAttribute) FetchKey() string
```

FetchKey returns the output key for the attribute.

<a name="FetchAttributeList"></a>
## type [FetchAttributeList](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L468-L475>)

FetchAttributeList fetches all values of a multi\-value attribute as a list.

```go
type FetchAttributeList struct {
    // Key is the output key in the result JSON.
    Key string
    // Var is the variable whose attributes are being fetched.
    Var string
    // AttrName is the name of the attribute type.
    AttrName string
}
```

<a name="FetchAttributeList.FetchKey"></a>
### func \(FetchAttributeList\) [FetchKey](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L481>)

```go
func (f FetchAttributeList) FetchKey() string
```

FetchKey returns the output key for the attribute list.

<a name="FetchClause"></a>
## type [FetchClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L528-L531>)

FetchClause defines the output structure of a query.

```go
type FetchClause struct {
    // Items are the items to fetch, which can be FetchItem nodes or raw strings.
    Items []any
}
```

<a name="Fetch"></a>
### func [Fetch](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L35>)

```go
func Fetch(items ...FetchItem) FetchClause
```

Fetch creates a FetchClause with the given items.

<a name="FetchFunction"></a>
## type [FetchFunction](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L484-L491>)

FetchFunction fetches the result of a function applied to a variable.

```go
type FetchFunction struct {
    // Key is the output key in the result JSON.
    Key string
    // FuncName is the name of the function (e.g., "iid").
    FuncName string
    // Var is the variable the function is applied to.
    Var string
}
```

<a name="FetchFunc"></a>
### func [FetchFunc](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L179>)

```go
func FetchFunc(key, funcName, varName string) FetchFunction
```

FetchFunc creates a FetchFunction for fetching the result of a function.

<a name="FetchFunction.FetchKey"></a>
### func \(FetchFunction\) [FetchKey](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L497>)

```go
func (f FetchFunction) FetchKey() string
```

FetchKey returns the output key for the function result.

<a name="FetchItem"></a>
## type [FetchItem](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L430-L435>)

FetchItem is the marker interface for items in a 'fetch' clause.

```go
type FetchItem interface {
    QueryNode

    // FetchKey returns the key under which the item will be returned in the result JSON.
    FetchKey() string
    // contains filtered or unexported methods
}
```

<a name="FetchNestedWildcard"></a>
## type [FetchNestedWildcard](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L514-L519>)

FetchNestedWildcard retrieves all attributes and their values recursively in a nested structure.

```go
type FetchNestedWildcard struct {
    // Key is the output key in the result JSON.
    Key string
    // Var is the variable being fetched.
    Var string
}
```

<a name="FetchNestedWildcard.FetchKey"></a>
### func \(FetchNestedWildcard\) [FetchKey](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L525>)

```go
func (f FetchNestedWildcard) FetchKey() string
```

FetchKey returns the output key for the nested wildcard.

<a name="FetchVariable"></a>
## type [FetchVariable](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L454-L459>)

FetchVariable fetches a variable directly.

```go
type FetchVariable struct {
    // Key is the output key in the result JSON.
    Key string
    // Var is the variable being fetched.
    Var string
}
```

<a name="FetchVar"></a>
### func [FetchVar](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L174>)

```go
func FetchVar(key, varName string) FetchVariable
```

FetchVar creates a FetchVariable for fetching a variable directly.

<a name="FetchVariable.FetchKey"></a>
### func \(FetchVariable\) [FetchKey](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L465>)

```go
func (f FetchVariable) FetchKey() string
```

FetchKey returns the output key for the variable.

<a name="FetchWildcard"></a>
## type [FetchWildcard](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L500-L505>)

FetchWildcard fetches all attributes of a variable.

```go
type FetchWildcard struct {
    // Key is the output key in the result JSON.
    Key string
    // Var is the variable whose attributes are all fetched.
    Var string
}
```

<a name="FetchWildcard.FetchKey"></a>
### func \(FetchWildcard\) [FetchKey](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L511>)

```go
func (f FetchWildcard) FetchKey() string
```

FetchKey returns the output key for the wildcard.

<a name="FunctionCallValue"></a>
## type [FunctionCallValue](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L21-L26>)

FunctionCallValue represents a function call in TypeQL, such as iid\($x\).

```go
type FunctionCallValue struct {
    // Function is the name of the function to call.
    Function string
    // Args contains the arguments for the function, which can be Value nodes or variable strings.
    Args []any
}
```

<a name="FuncCall"></a>
### func [FuncCall](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L134>)

```go
func FuncCall(funcName string, args ...any) FunctionCallValue
```

FuncCall creates a FunctionCallValue with the given function name and arguments.

<a name="HasConstraint"></a>
## type [HasConstraint](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L86-L91>)

HasConstraint checks if a thing has a specific attribute with a given value.

```go
type HasConstraint struct {
    // AttrName is the name of the attribute type.
    AttrName string
    // Value is the value of the attribute (Value or variable string).
    Value any
}
```

<a name="Has"></a>
### func [Has](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L89>)

```go
func Has(attrName string, value any) HasConstraint
```

Has creates a HasConstraint for the given attribute name and value. The value can be any Go value that will be formatted via FormatGoValue.

<a name="HasPattern"></a>
## type [HasPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L170-L177>)

HasPattern represents a pattern where a thing has an attribute assignment \($x has Type $v\).

```go
type HasPattern struct {
    // ThingVar is the variable representing the thing (entity or relation).
    ThingVar string
    // AttrType is the type of the attribute.
    AttrType string
    // AttrVar is the variable representing the attribute instance.
    AttrVar string
}
```

<a name="HasStatement"></a>
## type [HasStatement](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L251-L258>)

HasStatement assigns an attribute value to a subject variable.

```go
type HasStatement struct {
    // SubjectVar is the variable representing the thing being assigned an attribute.
    SubjectVar string
    // AttrName is the name of the attribute type.
    AttrName string
    // Value is the value being assigned.
    Value Value
}
```

<a name="HasStmt"></a>
### func [HasStmt](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L140>)

```go
func HasStmt(subjectVar, attrName string, value Value) HasStatement
```

HasStmt creates a HasStatement for the given subject variable, attribute name, and value. The value must be a Value type \(use Str\(\), Long\(\), etc. to create literal values\).

<a name="IidConstraint"></a>
## type [IidConstraint](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L77-L80>)

IidConstraint matches a thing by its internal instance ID \(IID\).

```go
type IidConstraint struct {
    // IID is the unique instance identifier.
    IID string
}
```

<a name="Iid"></a>
### func [Iid](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L104>)

```go
func Iid(iid string) IidConstraint
```

Iid creates an IidConstraint for the given IID value.

<a name="IidPattern"></a>
## type [IidPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L214-L219>)

IidPattern represents a pattern matching a thing by its IID \($x iid 0x...\).

```go
type IidPattern struct {
    // Variable is the variable representing the thing.
    Variable string
    // IID is the instance ID string.
    IID string
}
```

<a name="InsertClause"></a>
## type [InsertClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L352-L355>)

InsertClause represents an 'insert' clause containing one or more statements.

```go
type InsertClause struct {
    // Statements are the statements to insert.
    Statements []Statement
}
```

<a name="Insert"></a>
### func [Insert](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L15>)

```go
func Insert(statements ...Statement) InsertClause
```

Insert creates an InsertClause with the given statements.

<a name="IsaConstraint"></a>
## type [IsaConstraint](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L97-L102>)

IsaConstraint checks if a thing is an instance of a specific type.

```go
type IsaConstraint struct {
    // TypeName is the name of the type.
    TypeName string
    // Strict indicates whether to use strict type checking (isa!).
    Strict bool
}
```

<a name="Isa"></a>
### func [Isa](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L94>)

```go
func Isa(typeName string) IsaConstraint
```

Isa creates an IsaConstraint for the given type name.

<a name="IsaExact"></a>
### func [IsaExact](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L99>)

```go
func IsaExact(typeName string) IsaConstraint
```

IsaExact creates a strict IsaConstraint \(isa\!\) for the given type name.

<a name="IsaStatement"></a>
## type [IsaStatement](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L264-L269>)

IsaStatement defines the type of a variable in an insert statement.

```go
type IsaStatement struct {
    // Variable is the variable name.
    Variable string
    // TypeName is the name of the type.
    TypeName string
}
```

<a name="IsaStmt"></a>
### func [IsaStmt](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L145>)

```go
func IsaStmt(variable, typeName string) IsaStatement
```

IsaStmt creates an IsaStatement for the given variable and type name.

<a name="LetAssignment"></a>
## type [LetAssignment](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L331-L338>)

LetAssignment represents an assignment in a 'match let' clause.

```go
type LetAssignment struct {
    // Variables are the variables being assigned values.
    Variables []string
    // Expression is the value or expression being assigned (Value or variable string).
    Expression any
    // IsStream indicates whether to use stream assignment ('in') or scalar assignment ('=').
    IsStream bool
}
```

<a name="LimitClause"></a>
## type [LimitClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L419-L422>)

LimitClause represents a 'limit' clause for restricting result count.

```go
type LimitClause struct {
    // Count is the maximum number of results to return.
    Count int
}
```

<a name="Limit"></a>
### func [Limit](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L59>)

```go
func Limit(count int) LimitClause
```

Limit creates a LimitClause with the given count.

<a name="LiteralValue"></a>
## type [LiteralValue](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L32-L37>)

LiteralValue represents a literal value such as a string, number, or boolean.

```go
type LiteralValue struct {
    // Val is the actual value.
    Val any
    // ValueType specifies the TypeQL type of the value (e.g., "string", "long", "boolean").
    ValueType string
}
```

<a name="Bool"></a>
### func [Bool](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L129>)

```go
func Bool(b bool) LiteralValue
```

Bool creates a boolean LiteralValue.

<a name="Double"></a>
### func [Double](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L124>)

```go
func Double(f float64) LiteralValue
```

Double creates a double LiteralValue.

<a name="Lit"></a>
### func [Lit](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L109>)

```go
func Lit(value any, valueType string) LiteralValue
```

Lit creates a LiteralValue with the given value and type.

<a name="Long"></a>
### func [Long](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L119>)

```go
func Long(n int64) LiteralValue
```

Long creates an integer LiteralValue.

<a name="Str"></a>
### func [Str](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L114>)

```go
func Str(s string) LiteralValue
```

Str creates a string LiteralValue.

<a name="MatchClause"></a>
## type [MatchClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L322-L325>)

MatchClause represents a 'match' clause containing one or more patterns.

```go
type MatchClause struct {
    // Patterns are the patterns to match.
    Patterns []Pattern
}
```

<a name="Match"></a>
### func [Match](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L10>)

```go
func Match(patterns ...Pattern) MatchClause
```

Match creates a MatchClause with the given patterns.

<a name="MatchLetClause"></a>
## type [MatchLetClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L343-L346>)

MatchLetClause represents a 'match' clause using 'let' assignments.

```go
type MatchLetClause struct {
    // Assignments are the let assignments in the clause.
    Assignments []LetAssignment
}
```

<a name="NotPattern"></a>
## type [NotPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L196-L199>)

NotPattern represents a negation of one or more patterns \(not \{ ... \}\).

```go
type NotPattern struct {
    // Patterns are the patterns to negate.
    Patterns []Pattern
}
```

<a name="OffsetClause"></a>
## type [OffsetClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L410-L413>)

OffsetClause represents an 'offset' clause for skipping results.

```go
type OffsetClause struct {
    // Count is the number of results to skip.
    Count int
}
```

<a name="Offset"></a>
### func [Offset](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L54>)

```go
func Offset(count int) OffsetClause
```

Offset creates an OffsetClause with the given count.

<a name="OrPattern"></a>
## type [OrPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L205-L208>)

OrPattern represents a disjunction of multiple pattern alternatives \(\{ ... \} or \{ ... \}\).

```go
type OrPattern struct {
    // Alternatives defines the multiple sets of patterns that satisfy the disjunction.
    Alternatives [][]Pattern
}
```

<a name="Or"></a>
### func [Or](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L196>)

```go
func Or(alternatives ...[]Pattern) OrPattern
```

Or creates an OrPattern from multiple pattern alternatives. Each alternative is a slice of patterns that must all match.

<a name="Pattern"></a>
## type [Pattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L110-L113>)

Pattern is the marker interface for patterns used in a match clause.

```go
type Pattern interface {
    QueryNode
    // contains filtered or unexported methods
}
```

<a name="PutClause"></a>
## type [PutClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L380-L383>)

PutClause represents a 'put' clause \(upsert\) containing one or more statements. Put inserts if not exists, or skips if already exists \(based on key attributes\).

```go
type PutClause struct {
    // Statements are the statements defining what to put.
    Statements []Statement
}
```

<a name="Put"></a>
### func [Put](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L20>)

```go
func Put(statements ...Statement) PutClause
```

Put creates a PutClause with the given statements.

<a name="QueryNode"></a>
## type [QueryNode](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L8-L10>)

QueryNode is the marker interface for all AST nodes.

```go
type QueryNode interface {
    // contains filtered or unexported methods
}
```

<a name="RawPattern"></a>
## type [RawPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L225-L228>)

RawPattern represents a raw TypeQL string pattern, typically for legacy support.

```go
type RawPattern struct {
    // Content is the raw TypeQL string.
    Content string
}
```

<a name="RawStatement"></a>
## type [RawStatement](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L242-L245>)

RawStatement represents a raw TypeQL string statement.

```go
type RawStatement struct {
    // Content is the raw TypeQL string.
    Content string
}
```

<a name="ReduceAssignment"></a>
## type [ReduceAssignment](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L551-L556>)

ReduceAssignment represents an assignment in a 'reduce' clause.

```go
type ReduceAssignment struct {
    // Variable is the variable receiving the aggregated value.
    Variable string
    // Expression is the aggregation expression (AggregateExpr or variable string).
    Expression any
}
```

<a name="ReduceClause"></a>
## type [ReduceClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L561-L566>)

ReduceClause represents a 'reduce' clause for performing aggregations in TypeQL.

```go
type ReduceClause struct {
    // Assignments are the aggregate assignments.
    Assignments []ReduceAssignment
    // GroupBy is the optional variable to group the results by.
    GroupBy string
}
```

<a name="RelationPattern"></a>
## type [RelationPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L131-L140>)

RelationPattern matches a relation with its role players and optional constraints.

```go
type RelationPattern struct {
    // Variable is the variable name for the matched relation.
    Variable string
    // TypeName is the name of the relation type.
    TypeName string
    // RolePlayers defines the participants in the relation.
    RolePlayers []RolePlayer
    // Constraints are additional constraints applied to the relation.
    Constraints []Constraint
}
```

<a name="Relation"></a>
### func [Relation](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L73>)

```go
func Relation(varName, typeName string, rolePlayers []RolePlayer, constraints ...Constraint) RelationPattern
```

Relation creates a RelationPattern with the given variable, type, role players, and constraints.

<a name="RelationStatement"></a>
## type [RelationStatement](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L276-L287>)

RelationStatement defines a relation and its participants for an insert statement. In TypeDB 3.x, relations in insert statements often don't use a variable prefix.

```go
type RelationStatement struct {
    // Variable is the optional variable name for the relation.
    Variable string
    // TypeName is the name of the relation type.
    TypeName string
    // RolePlayers defines the participants in the relation.
    RolePlayers []RolePlayer
    // IncludeVariable indicates whether to include the variable prefix in the compiled query.
    IncludeVariable bool
    // Attributes are inline attribute assignments for the relation.
    Attributes []HasStatement
}
```

<a name="RelationStmt"></a>
### func [RelationStmt](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L150>)

```go
func RelationStmt(typeName string, rolePlayers ...RolePlayer) RelationStatement
```

RelationStmt creates a RelationStatement with the given relation type and role players.

<a name="RolePlayer"></a>
## type [RolePlayer](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L59-L64>)

RolePlayer represents a role player in a relation, mapping a role name to a player variable.

```go
type RolePlayer struct {
    // Role is the name of the role being played.
    Role string
    // PlayerVar is the variable name of the entity or relation playing the role (e.g., "$p").
    PlayerVar string
}
```

<a name="Role"></a>
### func [Role](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L83>)

```go
func Role(roleName, playerVar string) RolePlayer
```

Role creates a RolePlayer with the given role name and player variable.

<a name="SelectClause"></a>
## type [SelectClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L390-L393>)

SelectClause represents a 'select' clause for variable projection. Compiles to: select $var1, $var2, ...;

```go
type SelectClause struct {
    // Variables are the variable names to project (e.g., ["$did", "$name"]).
    Variables []string
}
```

<a name="Select"></a>
### func [Select](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L44>)

```go
func Select(variables ...string) SelectClause
```

Select creates a SelectClause for variable projection.

<a name="SortClause"></a>
## type [SortClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L399-L404>)

SortClause represents a 'sort' clause for ordering query results.

```go
type SortClause struct {
    // Variable is the variable name to sort by (e.g., "$name").
    Variable string
    // Direction is "asc" or "desc".
    Direction string
}
```

<a name="Sort"></a>
### func [Sort](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L49>)

```go
func Sort(variable, direction string) SortClause
```

Sort creates a SortClause for the given variable and direction.

<a name="Statement"></a>
## type [Statement](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L236-L239>)

Statement is the marker interface for statements used in insert, delete, or update clauses.

```go
type Statement interface {
    QueryNode
    // contains filtered or unexported methods
}
```

<a name="SubTypePattern"></a>
## type [SubTypePattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L146-L151>)

SubTypePattern matches types that are subtypes of a parent type \($t sub type\).

```go
type SubTypePattern struct {
    // Variable is the variable representing the subtype.
    Variable string
    // ParentType is the name of the parent type.
    ParentType string
}
```

<a name="UpdateClause"></a>
## type [UpdateClause](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L370-L373>)

UpdateClause represents an 'update' clause containing one or more statements.

```go
type UpdateClause struct {
    // Statements are the statements defining what to update.
    Statements []Statement
}
```

<a name="Update"></a>
### func [Update](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L30>)

```go
func Update(statements ...Statement) UpdateClause
```

Update creates an UpdateClause with the given statements.

<a name="Value"></a>
## type [Value](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L15-L18>)

Value is the marker interface for value nodes that can be used in expressions.

```go
type Value interface {
    QueryNode
    // contains filtered or unexported methods
}
```

<a name="ValueFromGo"></a>
### func [ValueFromGo](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L203>)

```go
func ValueFromGo(val any) Value
```

ValueFromGo converts a Go value to an AST Value node. Handles common types: string, int, int64, float64, bool, time.Time. Falls back to string representation for unknown types.

<a name="ValueComparisonPattern"></a>
## type [ValueComparisonPattern](<https://github.com/CaliLuke/go-typeql/blob/main/ast/nodes.go#L183-L190>)

ValueComparisonPattern represents a comparison between a variable and a value \($v \> 10\).

```go
type ValueComparisonPattern struct {
    // Var is the variable being compared.
    Var string
    // Operator is the comparison operator (e.g., >, <, ==).
    Operator string
    // Value is the value to compare against (Value or variable string).
    Value any
}
```

<a name="Cmp"></a>
### func [Cmp](<https://github.com/CaliLuke/go-typeql/blob/main/ast/builders.go#L190>)

```go
func Cmp(variable, operator string, value any) ValueComparisonPattern
```

Cmp creates a ValueComparisonPattern for comparing a variable to a value.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
